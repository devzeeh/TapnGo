<?php
// include for not allowing direct access to the pageinclude '../backend/redirect.php';
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"><!--icons libraries-->
    <link rel="stylesheet" href="../style/Style.css">
    <link rel="icon" href="../assets/Favicon/PayMobi.png">
    <title>Traverse | Report</title>
</head>
<body>
    <aside class="sidenav">
        <div>
            <div class="side-icon">
                <a href=""><img src="../assets/PayMobi.png" alt="Logo"></a>
            </div>
            <hr>
            <div class="side-button">
                <a href="./index.html"><i class="fas fa-home"></i> Home</a>
                <a href="./topUp.html"><i class="fas fa-wallet"></i> Top Up</a>
                <a href="./transaction.html"><i class="fas fa-exchange-alt"></i> Transactions</a>
                <a href="./report.html" style="color: #007bff;"><i class="fas fa-chart-bar"></i> Report</a>
                <a href="./updates.html"><i class="fas fa-bell"></i> Updates</a>
                <a href="./profile.html"><i class="fas fa-cog"></i> Profile</a>
            </div>
        </div>
    </aside>
    <nav>
        <div class="nav-logout">
            <a href="../Login.html">Logout <span class="icon"><i class="fa-solid fa-right-from-bracket"></i></span></a>
        </div>
    </nav>

    <main>
        <section>
            <div class="report-form">
                <h1>Compose Report</h1>
                <form id="reportForm" action="../backend/report.php" method="POST">
                    <!-- Lost & Stolen Buttons (Visible Immediately) -->
                    <div class="button-row" id="choice-buttons">
                      <button type="button" class="report-button" onclick="showForm('Lost Card')">Lost Card</button>
                      <button type="button" class="report-button" onclick="showForm('Stolen Card')">Stolen Card</button>
                    </div>
                  
                    <!-- Form Fields (Hidden Initially) -->
                    <div class="form-group" style="display: none;">
                      <label for="reportType" style="display: none;">Report Type:</label>
                      <input type="hidden" id="reportType" name="reportType">
                  
                      <label for="incident">Date of Incident:<span style="color: red;">*</span></label>
                      <input type="date" id="incident" name="incident" style="background-color: white;" required max="" >

                    </div>
                  
                    <div class="form-description" style="display: none;">
                      <label for="description">Description: <span style="color: red;">*</span></label>
                      <textarea id="description" name="description" rows="4" required></textarea>
                    </div>
                  
                    <button type="submit" class="submit-btn" style="display: none;">Submit Report</button>
                  </form>
            </div>
        </section>
    </main>

    <script src="../script/report.js">
        /*// Prevent future dates in picker
        window.onload = function () {
            const today = new Date().toISOString().split("T")[0];
            document.getElementById("incident").setAttribute("max", today);
        };

        function showForm(type) {
            document.getElementById("reportType").value = type;

            document.querySelector(".form-group").style.display = "flex";
            document.querySelector(".form-description").style.display = "block";
            document.querySelector(".submit-btn").style.display = "block";
        }

        function showForm(type) {
            document.getElementById("reportType").value = type;

            document.querySelector(".form-group").style.display = "flex";
            document.querySelector(".form-description").style.display = "block";
            document.querySelector(".submit-btn").style.display = "block";

            const buttons = document.querySelectorAll('.report-button');
            buttons.forEach(button => {
                if (button.textContent.includes(type)) {
                    button.classList.remove('faded'); // The clicked button stays bright
                } else {
                    button.classList.add('faded'); // The other button fades
                }
            });
        }*/

    </script>
    
</body>
</html>